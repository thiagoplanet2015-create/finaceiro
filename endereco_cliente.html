<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Endereços do Cliente</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background:#f8fafc; }
    .container-box { background:#fff; border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.06); }
    .table thead th { background:#f1f5f9; }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg bg-dark navbar-dark">
    <div class="container">
      <a class="navbar-brand" href="clientes.html">← Voltar | Clientes</a>
    </div>
  </nav>

  <div class="container my-4">
    <div class="p-3 p-md-4 container-box">
      <h3 id="titulo-cliente" class="mb-3">Endereços</h3>

      <div class="table-responsive">
        <table id="tabela-enderecos" class="table table-striped align-middle">
          <thead>
            <tr>
              <th>Tipo</th>
              <th>Logradouro</th>
              <th>Número</th>
              <th>Complemento</th>
              <th>Bairro</th>
              <th>Cidade</th>
              <th>UF</th>
              <th>CEP</th>
            </tr>
          </thead>
          <tbody>
            <!-- preenchido via JS -->
          </tbody>
        </table>
      </div>
      <small class="text-muted" id="meta-info"></small>
    </div>
  </div>

  <script>
    // Mock de "banco de dados"
    const clientes = {
      "1001": { nome: "Ana Paula Souza" },
      "1002": { nome: "Bruno Martins" },
      "1003": { nome: "Carla Fernandes" },
      "1004": { nome: "Diego Ribeiro" },
      "1005": { nome: "Elaine Costa" },
      "1006": { nome: "Felipe Nunes" }
    };

    const enderecosPorCliente = {
      "1001": [
        { tipo: "Residencial", logradouro: "Rua A", numero: "123", comp: "", bairro: "Centro", cidade: "São Paulo", uf: "SP", cep: "01001-000" }
      ],
      "1002": [
        { tipo: "Residencial", logradouro: "Av. Atlântica", numero: "500", comp: "Ap 302", bairro: "Copacabana", cidade: "Rio de Janeiro", uf: "RJ", cep: "22021-001" },
        { tipo: "Comercial",   logradouro: "Rua do Mercado", numero: "45", comp: "Sala 12", bairro: "Centro", cidade: "Rio de Janeiro", uf: "RJ", cep: "20010-120" }
      ],
      "1003": [
        { tipo: "Residencial", logradouro: "Rua Goiás", numero: "250", comp: "", bairro: "Savassi", cidade: "Belo Horizonte", uf: "MG", cep: "30140-150" }
      ],
      "1004": [],
      "1005": [
        { tipo: "Residencial", logradouro: "Av. Ipiranga", numero: "1000", comp: "Casa", bairro: "Azenha", cidade: "Porto Alegre", uf: "RS", cep: "90160-092" }
      ],
      "1006": [
        { tipo: "Comercial", logradouro: "Rua Chile", numero: "30", comp: "Sala 804", bairro: "Comércio", cidade: "Salvador", uf: "BA", cep: "40020-000" }
      ]
    };

    function qparam(name) {
      const params = new URLSearchParams(window.location.search);
      return params.get(name);
    }

    function render() {
      const id = qparam("id");
      const cliente = clientes[id];
      const enderecos = enderecosPorCliente[id] || [];

      document.getElementById("titulo-cliente").textContent =
        cliente ? `Endereços de ${cliente.nome} (ID ${id})` : `Cliente ${id} não encontrado`;

      const tbody = document.querySelector("#tabela-enderecos tbody");
      tbody.innerHTML = "";

      if (enderecos.length === 0) {
        const tr = document.createElement("tr");
        tr.innerHTML = `<td colspan="8" class="text-center text-muted">Nenhum endereço cadastrado.</td>`;
        tbody.appendChild(tr);
      } else {
        for (const e of enderecos) {
          const tr = document.createElement("tr");
          tr.innerHTML = `
            <td>${e.tipo}</td>
            <td>${e.logradouro}</td>
            <td>${e.numero}</td>
            <td>${e.comp}</td>
            <td>${e.bairro}</td>
            <td>${e.cidade}</td>
            <td>${e.uf}</td>
            <td>${e.cep}</td>
          `;
          tbody.appendChild(tr);
        }
      }

      document.getElementById("meta-info").textContent =
        `Mostrando ${enderecos.length} endereço(s).`;
    }

    render();
  </script>
</body>
</html>